---
title: 位运算
date: 2021-03-23 14:02:07
---

# 原码、反码、补码
> 二进制数皆是补码

- 机器数: 一个数在计算机中的二进制表示形式叫做机器数
  - 机器数带符号, 用最高位存放, 正数为0, 负数为1
- 真值
- 原码
- 反码: 正数的反码是原码, 负数的反码是除符号位按位取反
- 补码: 正数的补码是原码, 负数的补码是反码+1

| 真值  |  原码   |  反码   |  补码   |
| :---: | :-----: | :-----: | :-----: |
| +1010 | 0, 1010 | 0, 1010 | 0, 1010 |
| -1010 | 1, 1010 | 1, 0101 | 1, 0110 |
| +1111 | 0, 1111 | 0, 1111 | 0, 1111 |
| -0000 | 1, 0000 | 1, 1111 | 0, 0000 |
| -1000 | 1, 1000 | 1, 0111 | 1, 1000 |

## 结果为负的运算
```
# 计算 7 + -8
# 原码
0, 0111
1, 1000
# 反码
0, 0111
1, 0111
# 补码
0, 0111
1, 1000
# 补码和
1, 1111
# 因为最高位是1, 补码-1求反码
1, 1110
# 因为最高位是1, 反码除最高位取反得到原码
1, 0001
# 原码值为-1
-1
```

## 结果为零的运算
```
# 计算 3 + -3
# 原码
0011
1011
# 反码
0011
1100
# 补码
0011
1101
# 补码和
1, 0000
# 溢出位去掉
0000
# 结果 +0
```

## 结果为正的运算

```
# 计算5 + -4
# 原码
0, 0101
1, 0100
# 反码
0, 0101
1, 1011
# 补码
0, 0101
1, 1100
# 补码和
10, 0001
# 溢出位去掉
0, 0001
# 结果 +1
```
